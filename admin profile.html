<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="admin profile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
    <center>

 <div class="menu-container">

        <div class="head-titles">
    <div class="profile-picture"><img id="profile-image" src="peace.jpg" alt=""></div>
    <div id="company-name" class="company-name">GB Empire<span class="admin-auth">admin</span></div>


    <div class="business-rating">
                
        <span class="star" data-rating="1">★</span>
        <span class="star" data-rating="2">★</span>
        <span class="star" data-rating="3">★</span>
        <span class="star" data-rating="4">★</span>
        <span class="star" data-rating="5">★</span>
    </div>
   
    <span id="avgRating">0</span>


   
    <br> <br><br><br><br><br>
 

            
            </div>
            <div class="heads">

                <ul>
                    <li><a href="business page.html">Profile</a></li>
                    <li><a href="#">Update</a></li>
                    <li onclick="openPayments()"><a href="#">Payments</a></li>
                  
                    <li onclick="openJobs()"><a href="#">Jobs<div class="notify"></div></a></li>
                
                    <li onclick="increaseFollowers()"><a href="#">Customers</a><span id="followerCount">0</span></li>
                </ul>
               </div>
          
        

</div>

<form action="business page.html">
    <input type="text" id="txt" placeholder="Post">
    <input type="submit" class="pass-value" value="Submit" onclick="passValues()">
</form>

<div id="products-container">


 <br>
    <div class="container-title">Products by category </div>
    <br>
    <div class="select">
        <label for="select">Select</label>
                <select id="select">
                
                        <option>Electronics</option>
                        <option>Men's clothing</option>
                        <option>Women's clothing</option>
                        <option>Kids clothing</option>
                        <option>Shoes</option>
                        <option>Home and furniture</option>
                        <option>Health and beauty</option>
                        <option>Sports and outdoors</option>
                        <option>Toys and games</option>
                        <option>Groceries and household</option>
                        <option>Catering</option>
                        <option>Cars</option>
                        <option>Services</option>
                        
                       
                    </select>
                
                </div>
            
       <br>
       
    <div id="categories">
       <!--categories-->

                       <!--category field-->
                       <div id="category-field">
                       
                        <div class="product-fieldName">Electronics</div>
                        <div id="category-image" ><img src="furniture.jpg" alt=""></div>
                       
                        <div class="products-listing">
                            <!--item listing-->
                            <div class="text-container">
               <span class="animated-text" id="animatedText">Dining set</span>
                           </div>
                 
                 <!--end of item listing-->
                 
                               <span class="rr"></span><div class="hover-text" id="hoverText"> 35 000</div>
                              </div>
<!--description-->
<div id="description">
    <div id="stock-available">Total Products<span id="total-available">0</span></div>
    <div id="stock-ordered">Total Ordered<span id="total-ordered">0</span></div>
</div>
<!--end of description-->
                              <div id="item-description">
                                <div class="moreless">
                                   
                                    <div class="total-income">Total income<span id="number">0</span></div>
                                        </div>
                            </div>


                    </div>
                
               <!--end category field-->


       <!--end of categories-->
       
    </div>
    
</div>
<!--dashboard-->
<div class="dashboard">
<div class="dashboard-title">dashboard <input type="search"  name="q"  id="search" placeholder="Search your item"><button id="srch">Search</button></div>



    <div class="side-menu">
        
            <div class="side-list"  >Products</div>
          
            <div class="side-list" onclick="showCustomers()" >Customers</div>
            
            <div class="side-list" onclick="showPopup()" >Orders</div>

            <div class="side-list" id="upload-btn" onclick="openUpload()">Add stock</div>
           
        
    </div>
    <!--dashboard menu-->
    <div class="dash-menu">

        
        <div class="products">
            <div id="productItem">
               <div id="image-container"><img src="furniture.jpg" alt=""></div>
               <button id="delete">Delete</button>
              
            </div>
            
        </div>
       
     
        
    </div>
    <!--end of dashboard menu-->
    
</div>

</div>
<!--end of dashboard-->
 <!--payments-->
<div id="Payments">
    <span class="close" onclick="closePayments()">&times;</span>
    <div class="payment-details">
        <label for="company-name">Name</label>
        <div id="company-name">Gb empire</div>
        <div class="email">GBempire@gmail.com</div>
        <br>
        <div id="account"><span class=""></span> Currently free</div>
    </div>
</div>
<!--end of payments-->
 <!--Jobs-->
 <div id="Jobs">
    <span class="close" onclick="closeJobs()">&times;</span>
    <div class="Jobs-content">
    <label for="Job-upload"></label>
  <input type="file" id="Job-upload" placeholder="Upload job picture">
  <br>
  <input type="submit" onclick="handleSubmit()" class="btn" value="Notify the users">
    </div>
</div>
<!--end of Jobs-->
   <!--popup-->

   <div id="popup" class="popup">
                
    <div class="popup-content">
    <br>
    <div class="order-title">Customer orders</div>
      <span class="close" onclick="closePopup()">&times;</span>
      <table>
             
<tr>
    <th id="numb">No</th>
    <th>Prov</th>
    <th>
        status
        <label for="order-status"> Status</label>
        <select id="order-status">
            <option>Pending</option>
            <option>Attended</option>
            <option>Delivered</option>
        </select>
    </th>
</tr>

<tr>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
</tr>

      </table>
     
      </div>
    </div>
  </div>
  <!--upload-->
<div id="Upload">
    <div class="upload-content">
        <span class="close" onclick="closeUpload()">&times;</span>
        <br><br>
        <input type="text" id="product-name" placeholder="Product name" required>
        <input type="number" id="price" min="1" placeholder="Price" required>
        <input type="text" id="describe-item" placeholder="Description" required>
        <label for="file" ></label>
        <input type="file" id="file" placeholder="Upload image" required>
        <div class="select">
            <label for="select">Select</label>
                    <select id="select">
                    
                            <option>Electronics</option>
                            <option>Men's clothing</option>
                            <option>Women's clothing</option>
                            <option>Kids clothing</option>
                            <option>Shoes</option>
                            <option>Home and furniture</option>
                            <option>Health and beauty</option>
                            <option>Sports and outdoors</option>
                            <option>Toys and games</option>
                            <option>Groceries and household</option>
                            <option>Catering</option>
                            <option>Cars</option>
                            <option>Services</option>
                            
                           
                        </select>
                    
                    </div>
                   
                   
                    <button id="upload-product">Add product</button>
                    
    </div>
</div>
  <!--end of upload-->
  <!--open customers-->
  <div id="Customer">
    <div class="Customer-content">
        <div class="order-title">Customer list</div>
        <span class="close" onclick="closeCustomer()">&times;</span>
        <input type="search" id="search" placeholder="Search customer"><button id="srch">Search</button>
        <table>
             
            <tr>
                <th>Username</th>
                <th>Province</th>
                <th>Phone</th>
            </tr>
            
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            
                  </table>
    </div>
  </div>
  <!--end of customers-->
  <div id="rating-info">
  </div>
   <!--end of popup-->

  <!--business analysis-->
    
  <div class="business-analysis-cover">
    
    <h1 class="analysis">Cash flow statement</h1>
                <div class="business-analysis"><span class="circle-bar">N</span>Net worth <span id="net-worth">0</span><span class="currency">R</span></div>
                
            <div class="business-analysis"><span class="circle-red">E</span>Business expenditure<span id="expenditure">0</span><span class="currency">R</span></div>
            
            <div class="business-analysis"><span class="circle-white">P</span>Total profit<span id="profit">0</span><span class="currency">R</span></div>
            
            <div class="business-analysis"><span class="circle-orange">L</span>Total loss<span id="profit">0</span><span class="currency">R</span></div>

            <div class="business-analysis"><span class="circle-gold">R</span>Total return <span id="total-return">0</span><span class="currency">R</span></div>
            
            </div>
</div>

    </center>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
    const stars = document.querySelectorAll('.star');
    const avgRating = document.getElementById('avgRating');
    const ratingCounts = {
        1: document.getElementById('rating1Count'),
        2: document.getElementById('rating2Count'),
        3: document.getElementById('rating3Count'),
        4: document.getElementById('rating4Count'),
        5: document.getElementById('rating5Count'),
    };
    const cupImg = document.getElementById('cupImg');
    const threshold1 = 100;
    const threshold2 = 200;
    const threshold3 = 300;
    const threshold4 = 400;
    const threshold5 = 500;

    let ratings = [];
    let ratingCountsData = {
        1: 0,
        2: 0,
        3: 0,
        4: 0,
        5: 0,
    };

    stars.forEach((star) => {
        star.addEventListener('click', function () {
            const rating = parseInt(star.getAttribute('data-rating'));
            ratings.push(rating);

            // Update local storage with new ratings
            localStorage.setItem('ratings', JSON.stringify(ratings));

            // Update the average rating and rating counts
            updateAverageRating();
        });
    });

    function updateAverageRating() {
        if (ratings.length > 0) {
            const sum = ratings.reduce((total, rating) => total + rating, 0);
            const average = (sum / ratings.length).toFixed(1);
            avgRating.textContent = average;
            updateRatingCounts();
            updateCupStatus();
        }
    }

    function updateRatingCounts() {
        for (const rating in ratingCountsData) {
            ratingCountsData[rating] = ratings.filter((r) => r === parseInt(rating)).length;
            ratingCounts[rating].textContent = ratingCountsData[rating];
        }
    }

    function updateCupStatus() {
        if (ratingCountsData[5] >= threshold5) {
            cupImg.style.display = 'block';
        } else if (ratingCountsData[4] >= threshold4) {
            cupImg.style.display = 'none';
        } else if (ratingCountsData[3] >= threshold3) {
            cupImg.style.display = 'none';
        } else if (ratingCountsData[2] >= threshold2) {
            cupImg.style.display = 'none';
        } else if (ratingCountsData[1] >= threshold1) {
            cupImg.style.display = 'none';
        }
    }

    // Load ratings from local storage
    if (localStorage.getItem('ratings')) {
        ratings = JSON.parse(localStorage.getItem('ratings'));
        updateAverageRating();
    }
});



//reviews

document.addEventListener("DOMContentLoaded", function() {
    const submitButton = document.getElementById("submit-review");
    const reviewList = document.getElementById("review-list");

    submitButton.addEventListener("click", function() {
        
        const rating = document.getElementById("rating").value;
        const comment = document.getElementById("comment").value;

        if (rating && comment) {
            const review = {
               
                rating: rating,
                comment: comment,
            };

            // Save the review to local storage
            saveReview(review);

            // Add the review to the list
            displayReview(review);

            // Clear the form fields
           
            document.getElementById("rating").value = "5";
            document.getElementById("comment").value = "";
        }
    });

    // Load existing reviews from local storage
    loadReviews();

    function saveReview(review) {
        let reviews = JSON.parse(localStorage.getItem("reviews")) || [];
        reviews.push(review);
        localStorage.setItem("reviews", JSON.stringify(reviews));
    }

    function loadReviews() {
        let reviews = JSON.parse(localStorage.getItem("reviews")) || [];

        for (const review of reviews) {
            displayReview(review);
        }
    }

    function displayReview(review) {
        const reviewDiv = document.createElement("div");
        reviewDiv.classList.add("review");

        const ratingStars = "★".repeat(review.rating);
        const ratingText = `<span class="rating">${ratingStars}</span>`;

        reviewDiv.innerHTML = `<h3 id="review-profile">${review.name}</h3>${ratingText}<p>${review.comment}</p>`;

        reviewList.appendChild(reviewDiv);
    }
});

//end of reviews

//popup

function showPopup() {
  document.getElementById('popup').style.display = 'block';
}

function closePopup() {
  document.getElementById('popup').style.display = 'none';
}


function openUpload() {
  document.getElementById('Upload').style.display = 'block';
}
function closeUpload() {
  document.getElementById('Upload').style.display = 'none';
}

function showCustomers() {
  document.getElementById('Customer').style.display = 'block';
}
function closeCustomer() {
  document.getElementById('Customer').style.display = 'none';
}

//open admin page
function openPayments() {
  document.getElementById('Payments').style.display = 'block';
}
function closePayments() {
  document.getElementById('Payments').style.display = 'none';
}

//open jobs
function openJobs() {
  document.getElementById('Jobs').style.display = 'block';
}
function closeJobs() {
  document.getElementById('Jobs').style.display = 'none';
}

//notification
var notify = document.querySelector(".notify");
var btn = document.querySelector(".btn");
btn.addEventListener("click", active);

function active(){
    var add = Number(notify.getAttribute("data-count") || 0);
    notify.setAttribute("data-count", add + 1);

    if(add===0){
        notify.classList.add("add-numb");
    }
    false
}

//pass vales to another page
function passValues(){
    var firstName = document.getElementById("txt").value;
    localStorage.setItem("inputValue", firstName);

    return false;
}




    </script>
</body>
</html>